import React, { useEffect, useState } from "react";
import PopupComponent from "../components/PopupComponent";

export default function Product({ text, img }) {
  const [isPopupOpen, setPopupOpen] = useState(false);
  const togglePopup = () => {
    if (window.innerWidth >= 650) {
      setPopupOpen(!isPopupOpen);
    }
  };

  const handleBodyScroll = () => {
    document.body.style.overflow = !isPopupOpen ? "auto" : "hidden";
  };

  useEffect(() => {
    handleBodyScroll();
  }, [isPopupOpen]);

  return (
    <div className="product__main__container">
      <div className="products__container__product" onClick={togglePopup}>
        <img src={img} />

        <div className="products__container__product__content">
          <div className="products__container__product__content__text">
            {text}
          </div>
          <div className="products__container__product__content__icons">
            <div className="products__container__product__content__icon">
              <svg
                width="23"
                height="23"
                viewBox="0 0 23 23"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M0.0273438 22.9704L1.64352 17.0735C0.649788 15.3482 0.120164 13.388 0.125624 11.3842C0.125624 5.10514 5.23622 0 11.5153 0C14.562 0 17.423 1.18483 19.5688 3.33608C21.7201 5.48734 22.9049 8.3484 22.8995 11.3896C22.8995 17.6687 17.7889 22.7738 11.5098 22.7738H11.5044C9.5988 22.7738 7.726 22.2933 6.06069 21.387L0.0273438 22.9704ZM6.34461 19.3231L6.68859 19.5306C8.14096 20.3933 9.80628 20.8464 11.5044 20.8519H11.5098C16.7241 20.8519 20.9721 16.6094 20.9721 11.3896C20.9721 8.86165 19.9893 6.48653 18.2038 4.69563C16.4184 2.90474 14.0378 1.92193 11.5098 1.92193C6.29001 1.92193 2.0421 6.16439 2.0421 11.3842C2.0421 13.1696 2.53896 14.9114 3.48901 16.4183L3.71287 16.7787L2.75736 20.2677L6.34461 19.3231Z"
                  fill="black"
                  fill-opacity="0.24"
                />
                <path
                  d="M0.543945 22.3617L2.08613 16.7376C1.13709 15.093 0.635614 13.2219 0.635614 11.313C0.635614 5.32759 5.51022 0.458374 11.4902 0.458374C14.3967 0.458374 17.1198 1.59075 19.1688 3.63981C21.2179 5.68887 22.3449 8.41735 22.3449 11.3184C22.3449 17.3038 17.4703 22.173 11.4902 22.173H11.4848C9.66765 22.173 7.88281 21.7147 6.29749 20.8519L0.543945 22.3617Z"
                  fill="#1B140F"
                />
                <path
                  d="M0.150391 22.7553L1.7465 16.9317C0.765108 15.2277 0.242059 13.2919 0.247451 11.3129C0.247451 5.11184 5.29461 0.0700684 11.4957 0.0700684C14.5046 0.0700684 17.3301 1.24019 19.4493 3.36474C21.5739 5.48929 22.744 8.31484 22.7386 11.3183C22.7386 17.5194 17.6914 22.5612 11.4903 22.5612H11.4849C9.60303 22.5612 7.75348 22.0867 6.10884 21.1916L0.150391 22.7553ZM6.38924 19.1533L6.72895 19.3582C8.16329 20.2102 9.80793 20.6577 11.4849 20.6631H11.4903C16.6399 20.6631 20.8351 16.4733 20.8351 11.3183C20.8351 8.82171 19.8645 6.47608 18.1012 4.70742C16.338 2.93875 13.9869 1.96815 11.4903 1.96815C6.33532 1.96815 2.14014 6.15793 2.14014 11.3129C2.14014 13.0762 2.63083 14.7963 3.56909 16.2846L3.79017 16.6405L2.84652 20.0862L6.38924 19.1533Z"
                  fill="white"
                />
                <path
                  d="M8.68131 6.60544C8.47101 6.13631 8.24993 6.12553 8.05042 6.12014C7.88865 6.11475 7.69992 6.11475 7.51119 6.11475C7.32246 6.11475 7.02049 6.18485 6.76167 6.46524C6.50284 6.74564 5.78027 7.42507 5.78027 8.81088C5.78027 10.1913 6.78863 11.5286 6.92883 11.7173C7.06902 11.906 8.87543 14.834 11.7279 15.961C14.1005 16.8993 14.5858 16.7105 15.0981 16.662C15.6158 16.6135 16.7589 15.9826 16.9962 15.3247C17.228 14.6669 17.228 14.1061 17.1579 13.9874C17.0878 13.8688 16.8991 13.7987 16.6187 13.6585C16.3383 13.5183 14.9579 12.8389 14.6991 12.7418C14.4402 12.6448 14.2515 12.6016 14.0682 12.882C13.8795 13.1624 13.3402 13.7933 13.1785 13.9821C13.0167 14.1708 12.8495 14.1924 12.5691 14.0522C12.2887 13.912 11.3828 13.6154 10.3098 12.6556C9.47397 11.9114 8.90779 10.9894 8.74602 10.709C8.58425 10.4286 8.72984 10.2776 8.87004 10.1374C8.99406 10.0134 9.15044 9.80845 9.29064 9.64668C9.43084 9.48491 9.47937 9.36628 9.57103 9.17755C9.6627 8.98882 9.61956 8.82705 9.54947 8.68686C9.47937 8.54666 8.92936 7.16084 8.68131 6.60544Z"
                  fill="white"
                />
              </svg>
            </div>
            <div className="products__container__product__content__icon">
              <svg
                width="27"
                height="27"
                viewBox="0 0 27 27"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.3311 23.3387C13.1849 23.3395 13.04 23.3115 12.9046 23.2562C12.7693 23.201 12.6462 23.1195 12.5424 23.0165L3.91074 14.3738C2.82802 13.2798 2.2207 11.8027 2.2207 10.2635C2.2207 8.72432 2.82802 7.24727 3.91074 6.15324C5.00192 5.06513 6.48004 4.4541 8.02103 4.4541C9.56202 4.4541 11.0401 5.06513 12.1313 6.15324L13.3311 7.353L14.5308 6.15324C15.622 5.06513 17.1001 4.4541 18.6411 4.4541C20.1821 4.4541 21.6602 5.06513 22.7514 6.15324C23.8341 7.24727 24.4415 8.72432 24.4415 10.2635C24.4415 11.8027 23.8341 13.2798 22.7514 14.3738L14.1198 23.0165C14.016 23.1195 13.8929 23.201 13.7576 23.2562C13.6222 23.3115 13.4773 23.3395 13.3311 23.3387ZM8.02103 6.67536C7.55077 6.67323 7.08475 6.76443 6.64998 6.94368C6.21521 7.12292 5.82033 7.38665 5.4882 7.71959C4.81729 8.39404 4.44068 9.30666 4.44068 10.258C4.44068 11.2093 4.81729 12.1219 5.4882 12.7964L13.3311 20.6503L21.174 12.7964C21.8449 12.1219 22.2215 11.2093 22.2215 10.258C22.2215 9.30666 21.8449 8.39404 21.174 7.71959C20.4893 7.07273 19.5831 6.71235 18.6411 6.71235C17.6992 6.71235 16.793 7.07273 16.1083 7.71959L14.1198 9.71919C14.0165 9.82331 13.8937 9.90596 13.7583 9.96236C13.6229 10.0188 13.4777 10.0478 13.3311 10.0478C13.1844 10.0478 13.0392 10.0188 12.9039 9.96236C12.7685 9.90596 12.6456 9.82331 12.5424 9.71919L10.5539 7.71959C10.2217 7.38665 9.82685 7.12292 9.39208 6.94368C8.95731 6.76443 8.4913 6.67323 8.02103 6.67536Z"
                  fill="white"
                />
              </svg>
            </div>
          </div>
        </div>
      </div>

      {isPopupOpen && <PopupComponent togglePopup={togglePopup} />}
      <div className="mobile__view">
        <div className="product__popup__container__btns__mobile">
          <div className="products__container__product__content__icon">
            <svg
              width="23"
              height="20"
              viewBox="0 0 23 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11.3887 19.6555C11.2425 19.6563 11.0976 19.6283 10.9622 19.573C10.8269 19.5178 10.7038 19.4363 10.6 19.3333L1.96836 10.6906C0.885642 9.59659 0.27832 8.11954 0.27832 6.58033C0.27832 5.04112 0.885642 3.56407 1.96836 2.47004C3.05954 1.38194 4.53766 0.770905 6.07865 0.770905C7.61964 0.770905 9.09776 1.38194 10.1889 2.47004L11.3887 3.6698L12.5885 2.47004C13.6796 1.38194 15.1578 0.770905 16.6988 0.770905C18.2397 0.770905 19.7179 1.38194 20.809 2.47004C21.8918 3.56407 22.4991 5.04112 22.4991 6.58033C22.4991 8.11954 21.8918 9.59659 20.809 10.6906L12.1774 19.3333C12.0736 19.4363 11.9505 19.5178 11.8152 19.573C11.6798 19.6283 11.5349 19.6563 11.3887 19.6555ZM6.07865 2.99216C5.60838 2.99003 5.14237 3.08123 4.7076 3.26048C4.27283 3.43973 3.87794 3.70346 3.54582 4.0364C2.87491 4.71084 2.49829 5.62346 2.49829 6.57478C2.49829 7.52609 2.87491 8.43871 3.54582 9.11316L11.3887 16.9671L19.2316 9.11316C19.9025 8.43871 20.2791 7.52609 20.2791 6.57478C20.2791 5.62346 19.9025 4.71084 19.2316 4.0364C18.5469 3.38953 17.6407 3.02915 16.6988 3.02915C15.7568 3.02915 14.8506 3.38953 14.1659 4.0364L12.1774 6.036C12.0742 6.14012 11.9513 6.22276 11.8159 6.27916C11.6806 6.33556 11.5354 6.36459 11.3887 6.36459C11.242 6.36459 11.0968 6.33556 10.9615 6.27916C10.8261 6.22276 10.7032 6.14012 10.6 6.036L8.61148 4.0364C8.27935 3.70346 7.88447 3.43973 7.4497 3.26048C7.01493 3.08123 6.54891 2.99003 6.07865 2.99216Z"
                fill="black"
              />
            </svg>
          </div>
          <div className="products__container__product__content__icon">
            <svg
              width="23"
              height="24"
              viewBox="0 0 23 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.0566406 23.6555L1.67281 17.7587C0.679085 16.0333 0.149461 14.0731 0.154921 12.0693C0.154921 5.79026 5.26552 0.68512 11.5446 0.68512C14.5913 0.68512 17.4523 1.86995 19.5981 4.0212C21.7494 6.17246 22.9342 9.03352 22.9288 12.0748C22.9288 18.3538 17.8182 23.4589 11.5391 23.4589H11.5336C9.62809 23.4589 7.7553 22.9785 6.08999 22.0721L0.0566406 23.6555ZM6.37391 20.0082L6.71789 20.2157C8.17026 21.0784 9.83557 21.5316 11.5336 21.537H11.5391C16.7534 21.537 21.0014 17.2946 21.0014 12.0748C21.0014 9.54677 20.0186 7.17165 18.2331 5.38075C16.4477 3.58986 14.0671 2.60705 11.5391 2.60705C6.31931 2.60705 2.0714 6.84951 2.0714 12.0693C2.0714 13.8547 2.56826 15.5965 3.51831 17.1035L3.74217 17.4638L2.78666 20.9528L6.37391 20.0082Z"
                fill="black"
                fill-opacity="0.24"
              />
              <path
                d="M0.179688 23.4404L1.7758 17.6168C0.794405 15.9128 0.271356 13.977 0.276748 11.9981C0.276748 5.79695 5.32391 0.755188 11.525 0.755188C14.5339 0.755188 17.3594 1.92531 19.4786 4.04986C21.6031 6.17441 22.7733 8.99996 22.7679 12.0034C22.7679 18.2046 17.7207 23.2463 11.5196 23.2463H11.5142C9.63233 23.2463 7.78278 22.7718 6.13814 21.8767L0.179688 23.4404ZM6.41854 19.8384L6.75825 20.0433C8.19259 20.8953 9.83723 21.3429 11.5142 21.3482H11.5196C16.6692 21.3482 20.8644 17.1585 20.8644 12.0034C20.8644 9.50683 19.8938 7.1612 18.1305 5.39253C16.3673 3.62387 14.0162 2.65326 11.5196 2.65326C6.36461 2.65326 2.16943 6.84305 2.16943 11.9981C2.16943 13.7613 2.66013 15.4815 3.59838 16.9697L3.81947 17.3256L2.87582 20.7713L6.41854 19.8384Z"
                fill="black"
              />
              <path
                d="M8.71061 7.2905C8.50031 6.82137 8.27923 6.81059 8.07971 6.8052C7.91795 6.7998 7.72922 6.7998 7.54049 6.7998C7.35176 6.7998 7.04979 6.8699 6.79096 7.1503C6.53213 7.4307 5.80957 8.11012 5.80957 9.49594C5.80957 10.8764 6.81792 12.2136 6.95812 12.4024C7.09832 12.5911 8.90473 15.5191 11.7572 16.6461C14.1298 17.5843 14.6151 17.3956 15.1274 17.3471C15.6451 17.2985 16.7882 16.6676 17.0255 16.0098C17.2573 15.3519 17.2573 14.7911 17.1872 14.6725C17.1171 14.5539 16.9284 14.4838 16.648 14.3436C16.3676 14.2034 14.9872 13.524 14.7284 13.4269C14.4695 13.3298 14.2808 13.2867 14.0975 13.5671C13.9087 13.8475 13.3695 14.4784 13.2078 14.6671C13.046 14.8558 12.8788 14.8774 12.5984 14.7372C12.318 14.597 11.4121 14.3004 10.3391 13.3406C9.50327 12.5965 8.93708 11.6744 8.77532 11.394C8.61355 11.1136 8.75914 10.9626 8.89934 10.8224C9.02336 10.6984 9.17973 10.4935 9.31993 10.3317C9.46013 10.17 9.50866 10.0513 9.60033 9.86261C9.692 9.67388 9.64886 9.51211 9.57876 9.37191C9.50866 9.23171 8.95865 7.8459 8.71061 7.2905Z"
                fill="black"
              />
            </svg>
          </div>
        </div>
      </div>
    </div>
  );
}
